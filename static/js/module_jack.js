// Generated by CoffeeScript 1.3.3
(function() {

  define(function(require) {
    var $, Modernizr, loadModule, module;
    $ = require("jquery");
    Modernizr = require("Modernizr");
    module = {};
    loadModule = function(domElement) {
      var element, moduleName;
      element = $(domElement);
      if (Modernizr.touch === false) {
        moduleName = element.data("module");
      } else {
        moduleName = element.data("mobile");
      }
      return require([moduleName], function(module) {
        return module.init(element);
      });
    };
    module.execute = function(element) {
      var dataModules, i, _i, _len, _results;
      element = element || $("html");
      if (Modernizr.touch === false) {
        dataModules = $("[data-module]", element);
      } else {
        dataModules = $("[data-mobile]", element);
      }
      console.log(dataModules);
      _results = [];
      for (_i = 0, _len = dataModules.length; _i < _len; _i++) {
        i = dataModules[_i];
        _results.push(loadModule(i));
      }
      return _results;
    };
    return module;
  });

}).call(this);
